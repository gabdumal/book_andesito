---
title: Criando o projeto
author: Gabriel Malosto
---

import { Code } from "@astrojs/starlight/components";

import Figure from "@components/Figure.astro";

import mainFromOrientedGraph from "/public/code/c_cpp_projects/oriented_graph/main.cpp?raw";
import nodeHeaderFromOrientedGraph from "/public/code/c_cpp_projects/oriented_graph/node/node.hpp?raw";
import nodeFromOrientedGraph from "/public/code/c_cpp_projects/oriented_graph/node/node.cpp?raw";
import edgeHeaderFromOrientedGraph from "/public/code/c_cpp_projects/oriented_graph/edge/edge.hpp?raw";
import edgeFromOrientedGraph from "/public/code/c_cpp_projects/oriented_graph/edge/edge.cpp?raw";
import graphHeaderFromOrientedGraph from "/public/code/c_cpp_projects/oriented_graph/graph/graph.hpp?raw";
import graphFromOrientedGraph from "/public/code/c_cpp_projects/oriented_graph/graph/graph.cpp?raw";

Vamos criar um projeto em C++ que utiliza o conceito de **grafo orientado**.
Um nó pode se conectar por meio de arestas a outros nós, formando um grafo.
Dessa forma, precisamos representar os nós, as arestas e o grafo em si.

## Projeto

**Acesse** a pasta `~/dev/c_cpp_projects` que criamos anteriormente.
Dentro dela, **crie** um diretório chamado `oriented_graph`.
Acesse-o e **abra** nele o Visual Studio Code.

```zsh title="Fedora, WSL ou Mint" frame="terminal"
mkdir -p ~/dev/c_cpp_projects
cd ~/dev/c_cpp_projects
mkdir -p oriented_graph
cd oriented_graph
code .
```

Dentro do diretório `oriented_graph`, **crie** um arquivo `main.cpp` e três pastas: `node`, `edge` e `graph`.
Cada pasta deve conter um arquivo `.cpp` e um arquivo `.hpp` com o mesmo nome da pasta.

```zsh title="Fedora, WSL ou Mint" frame="terminal"
touch main.cpp .clang-tidy .clang-format
mkdir -p node edge graph
touch node/node.cpp node/node.hpp edge/edge.cpp edge/edge.hpp graph/graph.cpp graph/graph.hpp
```

**Copie** o código de cada arquivo a seguir para o seu projeto.

<Code lang="cpp" title="main.cpp" code={mainFromOrientedGraph} frame="code" />

<Code
  lang="cpp"
  title="node/node.hpp"
  code={nodeHeaderFromOrientedGraph}
  frame="code"
/>

<Code
  lang="cpp"
  title="node/node.cpp"
  code={nodeFromOrientedGraph}
  frame="code"
/>

<Code
  lang="cpp"
  title="edge/edge.hpp"
  code={edgeHeaderFromOrientedGraph}
  frame="code"
/>

<Code
  lang="cpp"
  title="edge/edge.cpp"
  code={edgeFromOrientedGraph}
  frame="code"
/>

<Code
  lang="cpp"
  title="graph/graph.hpp"
  code={graphHeaderFromOrientedGraph}
  frame="code"
/>

<Code
  lang="cpp"
  title="graph/graph.cpp"
  code={graphFromOrientedGraph}
  frame="code"
/>

Também crie o arquivo `.clang-tidy` na raiz do projeto e o preencha com o snippet `clang-tidy`.
Igualmente, crie o arquivo `.clang-format` e o preencha com o snippet `clang-format`.

## Git

Da mesma forma como fizemos anteriormente, vamos inicializar o repositório Git e criar um arquivo `.gitignore` para que arquivos de compilação não sejam versionados.

```zsh title="Fedora, WSL ou Mint" frame="terminal"
git init
echo "build/" >> .gitignore
git add .
git commit -m "Initialize project"
```

## Compilação

Assim como antes, você pode compilar esse projeto diretamente pelo `clang++` ou utilizando os arquivos `tasks.json` e `launch.json` do Visual Studio Code.

O comando de compilação é o seguinte.

```zsh title="Fedora, WSL ou Mint" frame="terminal"
mkdir -p build
clang++ main.cpp node/node.cpp edge/edge.cpp graph/graph.cpp -I node -I edge -I graph -o build/oriented_graph
```

Ao executar o programa, você verá a seguinte saída.

```zsh title="Fedora, WSL ou Mint" frame="terminal"
./build/oriented_graph
# 1 3 4 5 2
```

Ela representa a ordem de visitação dos nós do grafo em uma busca em profundidade iniciando pelo nó 1.
