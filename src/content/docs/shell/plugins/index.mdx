---
title: Plugin
---

Plugins s√£o uma forma de estender as funcionalidades do shell.
Para os sistemas que configuramos com o **Zsh**, utilizaremos o **Oh My Zsh**
J√° para o **PowerShell**, instalaremos os plugins diretamente.

## Zoxide

O [**Zoxide**](https://github.com/ajeetdsouza/zoxide) √© um plugin que facilita a navega√ß√£o entre diret√≥rios.

Por exemplo, imagine que voc√™ tenha um diret√≥rio chamado `~/Documents/Projects/MyProject`, que vo√™ frequentemente acessa.

Ter que digitar esse caminho toda vez que quiser acessar esse diret√≥rio pode ser um pouco cansativo.
O Zoxide permite que voc√™ navegue para esse diret√≥rio apenas digitando `cd MyProject`.

Isso √© poss√≠vel porque o Zoxide mant√©m um hist√≥rico dos diret√≥rios que voc√™ acessa com mais frequ√™ncia.
E ent√£o, quando voc√™ digita `cd MyProject`, ele automaticamente navega para o diret√≥rio `~/Documents/Projects/MyProject`.

O Zoxide tem como depend√™ncia o [**FZF**](https://github.com/junegunn/fzf), que √© um fuzzy finder.
Ele √© uma ferramenta que permite que voc√™ pesquise por arquivos e diret√≥rios de forma r√°pida e eficiente.
Vamos tratar da sua instala√ß√£o adiante.

### PowerShell

Para instalar o FZF no PowerShell, execute o seguinte comando:

```powershell
winget install fzf
```

E ent√£o, instale o Zoxide com o seguinte comando:

```powershell
winget install ajeetdsouza.zoxide
```

<figure>
  <img src="/book_andesito/src/assets/content/docs/shell/plugins/installing_zoxide_powershell.png" />
  <figcaption>Instalando o FZF e o Zoxide no PowerShell.</figcaption>
</figure>

Ent√£o, precisamos adicionar as seguintes linhas ao **final** do seu arquivo de configura√ß√£o do PowerShell:

```powershell
## Plugins

### Zoxide
Invoke-Expression (& { (zoxide init --cmd cd powershell | Out-String) })
```

Lembre-se que, para abrir o arquivo de configura√ß√£o do PowerShell, voc√™ deve executar o comando `code $PROFILE` no terminal.
O arquivo aberto depender√° da vers√£o do PowerShell que voc√™ est√° utilizando.

<figure>
  <img src="/book_andesito/src/assets/content/docs/shell/plugins/configuring_zoxide_powershell.png" />
  <figcaption>Configurando o Zoxide no PowerShell.</figcaption>
</figure>

Salve o arquivo, feche o editor, e ent√£o **feche** e abra novamente o PowerShell para que as altera√ß√µes tenham efeito.

### Zsh

Para instalar o FZF no Zsh, execute os seguintes comandos:

```bash
mkdir -p ~/Downloads
git clone --depth 1 https://github.com/junegunn/fzf.git ~/Downloads/.fzf
~/Downloads/.fzf/install
```

Quando perguntado sobre ativar os recursos do FZF, pressione a tecla <kbd>y</kbd> e ent√£o pressione <kbd>Enter</kbd> para cada.

<figure>
  <img src="/book_andesito/src/assets/content/docs/shell/plugins/installing_fzf_zsh.png" />
  <figcaption>Instalando o FZF no Zsh.</figcaption>
</figure>

Para instalar o Zoxide, execute o seguinte comando:

```bash
curl -sSfL https://raw.githubusercontent.com/ajeetdsouza/zoxide/main/install.sh | sh
```

<figure>
  <img src="/book_andesito/src/assets/content/docs/shell/plugins/installing_zoxide_zsh.png" />
  <figcaption>Instalando o Zoxide no Zsh.</figcaption>
</figure>

Possivelmente, o FZF editou seu arquivo de configura√ß√£o do Zsh.
Vamos excluir a linha que ele adicionou.
Ent√£o devemos mover o bloco `Plugins` para o final do arquivo, e adicionar as seguintes linhas:

```bash
### FZF
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
source <(fzf --zsh)

### Zoxide
eval "$(zoxide init --cmd cd zsh)"
```

O arquivo de configura√ß√£o do Zsh deve ficar assim:

```bash
# Path to your Oh My Zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Shell configuration
ZSH_THEME="robbyrussell"

## User configuration
PATH=$PATH:~/.local/bin

## Source Oh my Zsh
source $ZSH/oh-my-zsh.sh

## Theme
eval "$(starship init zsh)"
export STARSHIP_CONFIG="$HOME/.config/starship.toml"

## Plugins
plugins=(git)

### FZF
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
source <(fzf --zsh)

### Zoxide
eval "$(zoxide init --cmd cd zsh)"
```

Salve o arquivo, feche o editor, e ent√£o **feche** e abra novamente o terminal para que as altera√ß√µes tenham efeito.

Para testar se a instala√ß√£o foi bem sucedida, execute os seguintes comandos:

```bash
fzf --version
zoxide --version
```

<figure>
  <img src="/book_andesito/src/assets/content/docs/shell/plugins/checking_zoxide_zsh.png" />
  <figcaption>Verificando as vers√µes do FZF e do Zoxide no Zsh.</figcaption>
</figure>

{/* TODO: Ensinar a instalar o The Fuck, considerando que ele exige instalar o Python. */}

## The Fuck

Primeiramente, perdoem-me o palavreado.
Mas sabe quando voc√™ digita um comando enorme, mas percebe s√≥ depois de executar que errou uma coisinha s√≥?
O tempo todo eu esque√ßo de adicionar o `sudo` na frente dos comandos.

Pensando nisso, foi criado o [**The Fuck**](https://github.com/nvbn/thefuck).
Ele √© um plugin que corrige esses pequenos erros nos comandos, sejam uma letra trocada, ou todo um atributo esquecido.

Quando receber um erro, digite `fuck`, e o plugin tentar√° corrigi-lo para voc√™.

### Depend√™ncias

Como depend√™ncias, o The Fuck exige que se tenha instalado:

- python (3.5+)
- pip
- python-dev -->

## Zsh Autosuggestions

O [**Zsh Autosuggestions**](https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh) √© um plugin que sugere comandos enquanto voc√™ digita.
Isso √© especialmente √∫til quando voc√™ se lembra de parte de um comando, mas n√£o dele todo.

Esse plugin est√° dispon√≠vel apenas para o Zsh --- sinto muito, pessoal do PowerShell üòî.
O Zsh Autosuggestions pode ser habilitado por meio do **Oh My Zsh**.

Para isso, devemos clonar o reposit√≥rio do plugin para a pasta de plugins do Oh My Zsh.
Fa√ßa isso executando o seguinte comando:

```bash
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
```

Ent√£o, vamos editar o arquivo de configura√ß√£o do Zsh para habilitar o plugin.
Fazemos isso adicionando mais uma linha ao atributo `plugins`, em que havia apenas o `git`.

```bash
## Plugins
plugins=(
    git
    zsh-autosuggestions
)
```

Lembre-se de salvar o arquivo, fechar o editor, e ent√£o **fechar** e abrir novamente o terminal para que as altera√ß√µes tenham efeito.

## Zsh Syntax Highlighting

O [**Zsh Syntax Highlighting**](https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh) √© um plugin que destaca comandos enquanto voc√™ digita.

Ele tamb√©m est√° dispon√≠vel apenas para o Zsh, e pode ser habilitado por meio do **Oh My Zsh**.

Para isso, devemos clonar o reposit√≥rio do plugin para a pasta de plugins do Oh My Zsh.
Fa√ßa isso executando o seguinte comando:

```bash
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
```

Ent√£o, vamos editar o arquivo de configura√ß√£o do Zsh para habilitar o plugin.
Da mesma forma, basta adicionar a linha `zsh-syntax-highlighting` ao atributo `plugins`.

```bash
## Plugins
plugins=(
    git
    zsh-autosuggestions
    zsh-syntax-highlighting
)
```

<figure>
  <img src="/book_andesito/src/assets/content/docs/shell/plugins/configuring_zsh_plugins.png" />
  <figcaption>
    Configurando os plugins Zsh Autosuggestions e Zsh Syntax Highlighting.
  </figcaption>
</figure>

Como sempre, salve o arquivo, feche o editor, e ent√£o **feche** e abra novamente o terminal para que as altera√ß√µes tenham efeito.
